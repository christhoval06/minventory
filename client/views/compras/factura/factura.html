<template name="facturaCompra">
    <ol class="breadcrumb">
        <li>
            <a href="/">Inicio</a>
        </li>
        <li>
            <a href="/compras">Compras</a>
        </li>
        <li class="active">Factura</li>
    </ol>
    <div class="jumbotron">
        <div class="container">
            {{#with getFacturaSelecionada}}
                <form id="compra-form" class="form-horizontal">
                    <fieldset>
                        <h2 class="title text-center">{{getTitle}}</h2>

                        <input type="hidden" id="compra-form-id" class="id" value="{{_id}}">

                        <div class="form-group">
                            <label for="compra-form-numero" class="col-sm-2 control-label ">No.</label>

                            <div class="col-sm-10">
                                <input type="text" id="compra-form-numero" class="form-control input numero" placeholder="nÃºmero de compra" value="{{numero}}"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="compra-form-fecha" class="col-sm-2 control-label ">Fecha</label>

                            <div class="col-sm-10">
                                <input type="text" id="compra-form-fecha" class="form-control input fecha" placeholder="fecha de compra" value="{{fecha}}"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="compra-form-cliente" class="col-sm-2 control-label ">Cliente</label>

                            <div class="col-sm-10">
                                <input type="text" id="compra-form-cliente" class="form-control input cliente" placeholder="nombre del cliente" value="{{numero}}"/>
                            </div>
                        </div>
                    </fieldset>
                    <table class="table table-hover  table-condensed table-striped compra-detalle">
                        <thead>
                        <tr class="add-form">
                            <td colspan="3">
                                <select id="add-form-producto" class="form-control input select2 add-producto" placeholder="seleccione un producto">
                                    {{!--
                                    <optgroup label="seleccione un producto">
                                        {{#each getProductos}}
                                            <option value="{{_id}}">{{name}}</option>
                                        {{/each}}
                                    </optgroup>
                                    --}}
                                </select>
                                <!-- <input type="text" id="add-form-producto" class="form-control input add-producto" placeholder="producto"/> -->
                            </td>
                            <td>
                                <input type="number" id="add-form-precio" class="form-control input add-precio" placeholder="precio" min="0" step="0.01"/>
                            </td>
                            <td>
                                <input type="number" id="add-form-cantidad" class="form-control input add-cantidad" placeholder="cantidad" min="0"/>
                            </td>
                            <td>
                                <button class="btn btn-primary add-producto" type="button">
                                    <span class="glyphicon glyphicon-plus"></span>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <th class="producto">Producto</th>
                            <th class="categoria">Categoria</th>
                            <th class="precio">Precio</th>
                            <th class="cantidad">Cantidad</th>
                            <th class="total">Total</th>
                            <th class="opciones"></th>
                        </tr>
                        </thead>
                        <tbody>
                        {{#each getCompraDetalle}}
                            <tr>
                                <td class="producto">
                                    {{producto}}
                                    <span class="sr-only producto-id">{{productoId}}</span>
                                </td>
                                <td class="categoria">{{categoria}}</td>
                                <td class="precio">{{precio}}</td>
                                <td class="cantidad">{{cantidad}}</td>
                                <td class="total">{{total}}</td>
                                <td></td>
                            </tr>
                        {{/each}}
                        <tr>
                            <td colspan="6">
                                <hr>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td>Subtotal</td>
                            <td class="right">{{subtotal}}</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td>Descuento</td>
                            <td class="right">
                                <input type="number" id="compra-form-descuento" class="form-control input descuento" placeholder="descuento" min="0" step="0.01" value="{{descuento}}"/></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td>I.T.B.M.S.</td>
                            <td class="right">{{itbms}}</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td>Total</td>
                            <td class="right">{{total}}</td>
                            <td></td>
                        </tr>
                        </tbody>
                    </table>
                    <div class="form-group">
                        <div class="col-sm-offset-2 col-sm-10">
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" id="compra-form-active" class="active" checked={{active}}> Activo?
                                </label>
                            </div>
                        </div>
                    </div>
                </form>
            {{/with}}
        </div>
    </div>
</template>